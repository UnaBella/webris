define(function(){return params={left:0,top:0,currentX:0,currentY:0,flag:!1},getCss=function(a,b){return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,!1)[b]},startDrag=function(a,b,c){"auto"!==getCss(b,"left")&&(params.left=getCss(b,"left")),"auto"!==getCss(b,"top")&&(params.top=getCss(b,"top")),a.onmousedown=function(b){params.flag=!0,b||(b=window.event,a.onselectstart=function(){return!1}),e=b,params.currentX=e.clientX,params.currentY=e.clientY},document.onmouseup=function(){params.flag=!1,"auto"!==getCss(b,"left")&&(params.left=getCss(b,"left")),"auto"!==getCss(b,"top")&&(params.top=getCss(b,"top"))},document.onmousemove=function(a){e=a?a:window.event,params.flag&&(nowX=e.clientX,nowY=e.clientY,disX=nowX-params.currentX,disY=nowY-params.currentY,b.style.left=parseInt(params.left)+disX+"px",b.style.top=parseInt(params.top)+disY+"px"),"function"==typeof c&&c(parseInt(params.left)+disX,parseInt(params.top)+disY)}}});